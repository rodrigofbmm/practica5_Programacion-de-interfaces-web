import{b as u}from"./chunk-IKHDGLJC.js";import{b as f}from"./chunk-OI2AEMTX.js";import{a as l,d as p,g as m}from"./chunk-FEDUQ665.js";var C=[{name:"Milk",price:2.99,description:"Fresh milk from the farm",image:"/images/milk.jpg",id:1},{name:"Bread",price:1.99,description:"Freshly baked bread",image:"/images/bread.jpg",id:2},{name:"Cheese",price:4.99,description:"Imported cheese from France",image:"/images/cheese.webp",id:3},{name:"Butter",price:3.99,description:"Fresh butter from the farm",image:"/images/butter.jpg",id:4},{name:"Eggs",price:2.99,description:"Fresh eggs from the farm",image:"/images/eggs.avif",id:5}];var x=0,T=Array.isArray;function r(t,n,o,e,a,c){var i,s,d={};for(s in n)s=="ref"?i=n[s]:d[s]=n[s];var v={type:t,props:d,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--x,__i:-1,__u:0,__source:a,__self:c};if(typeof t=="function"&&(i=t.defaultProps))for(s in i)d[s]===void 0&&(d[s]=i[s]);return l.vnode&&l.vnode(v),v}var h=({cart:t})=>{let n=(o,e)=>{let a=[...e],c=a.find(i=>i.product.id===o.id);return c?c.quantity++:a.push({product:o,quantity:1}),a};return r("div",{class:"products",children:[r("h1",{children:"Products"}),C.map(o=>r("div",{class:"item",children:[r("span",{class:"name",children:o.name}),r("span",{class:"price",children:[o.price,"\u20AC"]}),r("img",{src:o.image,alt:o.name}),r("span",{class:"description",children:o.description}),r("span",{class:"add",onClick:()=>{t.value=n(o,t.value)},children:"+"})]},o.id))]})},g=h;var B=m([]);var X=m(void 0);function _(t){return t.children}_.displayName="Partial";var k=({cart:t,page:n})=>r("div",{class:"menu",children:[r("div",{class:`${n.value==="shop"?"selected":""}`,onClick:()=>{n.value="shop"},children:"Comprar"}),r("div",{class:`${n.value==="cart"?"selected":""}`,onClick:()=>{n.value="cart"},children:["Carro de la compra"," ",r("div",{class:"quantity",children:u&&t.value.reduce((o,e)=>o+e.quantity,0)})]})]}),y=k;var A=({cart:t})=>{let n=(e,a)=>{let c=[...a],i=c.find(s=>s.product.id===e.id);return i&&i.quantity++,c},o=(e,a)=>{let c=[...a],i=c.find(s=>s.product.id===e.id);return i&&(i.quantity--,i.quantity===0&&c.splice(c.indexOf(i),1)),c};return r(p,{children:r("div",{class:"products",children:[r("h1",{children:"Cart"}),t.value.map(e=>r("div",{class:"item",children:[r("span",{class:"name",children:e.product.name}),r("span",{class:"price",children:[e.product.price,"\u20AC"]}),r("img",{src:e.product.image,alt:e.product.name}),r("span",{class:"description",children:e.product.description}),r("span",{class:"remove",onClick:()=>{t.value=o(e.product,t.value)},children:"-"}),r("span",{class:"quantity",children:e.quantity}),r("span",{class:"add",onClick:()=>{t.value=n(e.product,t.value)},children:"+"})]},e.product.id)),r("div",{class:"total",children:[r("div",{class:"total-text",children:"Total:"}),r("div",{class:"total-price",children:[t.value.reduce((e,a)=>e+a.product.price*a.quantity,0).toFixed(2),"\u20AC"]})]})]})})},S=A;var E=()=>{let t=f([]),n=f("shop");return r(p,{children:[r(y,{cart:t,page:n}),!u&&r(g,{cart:t}),u&&n.value==="shop"&&r(g,{cart:t}),u&&n.value==="cart"&&r(S,{cart:t})]})},fr=E;export{fr as default};
